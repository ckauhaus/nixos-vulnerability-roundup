# Vulnerability roundup 105: discourse-2.7.5: 2 advisories [5.4]

[search](https://search.nix.gsc.io/?q=discourse&i=fosho&repos=NixOS-nixpkgs), [files](https://github.com/NixOS/nixpkgs/search?utf8=%E2%9C%93&q=discourse+in%3Apath&type=Code)

* [ ] [CVE-2021-32764](https://nvd.nist.gov/vuln/detail/CVE-2021-32764) CVSSv3=5.4 (nixos-unstable)
* [ ] [CVE-2021-32788](https://nvd.nist.gov/vuln/detail/CVE-2021-32788) CVSSv3=4.3 (nixos-21.05, nixos-unstable)

## CVE details

### CVE-2021-32764

Discourse is an open-source discussion platform. In Discourse versions 2.7.5 and prior, parsing and rendering of YouTube Oneboxes can be susceptible to XSS attacks. This vulnerability only affects sites which have modified or disabled Discourse's default Content Security Policy. The issue is patched in `stable` version 2.7.6, `beta` version 2.8.0.beta3, and `tests-passed` version 2.8.0.beta3. As a workaround, ensure that the Content Security Policy is enabled, and has not been modified in a way which would make it more vulnerable to XSS attacks.

### CVE-2021-32788

Discourse is an open source discussion platform. In versions prior to 2.7.7 there are two bugs which led to the post creator of a whisper post being revealed to non-staff users. 1: Staff users that creates a whisper post in a personal message is revealed to non-staff participants of the personal message even though the whisper post cannot be seen by them. 2: When a whisper post is before the last post in a post stream, deleting the last post will result in the creator of the whisper post to be revealed to non-staff users as the last poster of the topic.

-----
Scanned versions: nixos-21.05: ad6e733d633; nixos-unstable: 4138cbd913f.

Cc @talyz

