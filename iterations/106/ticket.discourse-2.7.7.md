# Vulnerability roundup 106: discourse-2.7.7: 4 advisories [7.5]

[search](https://search.nix.gsc.io/?q=discourse&i=fosho&repos=NixOS-nixpkgs), [files](https://github.com/NixOS/nixpkgs/search?utf8=%E2%9C%93&q=discourse+in%3Apath&type=Code)

* [ ] [CVE-2021-37693](https://nvd.nist.gov/vuln/detail/CVE-2021-37693) CVSSv3=7.5 (nixos-21.05, nixos-unstable)
* [ ] [CVE-2021-37633](https://nvd.nist.gov/vuln/detail/CVE-2021-37633) CVSSv3=6.1 (nixos-21.05, nixos-unstable)
* [ ] [CVE-2021-39161](https://nvd.nist.gov/vuln/detail/CVE-2021-39161) CVSSv3=5.4 (nixos-21.05, nixos-unstable)
* [ ] [CVE-2021-37703](https://nvd.nist.gov/vuln/detail/CVE-2021-37703) CVSSv3=4.3 (nixos-21.05, nixos-unstable)

## CVE details

### CVE-2021-37693

Discourse is an open-source platform for community discussion. In Discourse before versions 2.7.8 and 2.8.0.beta4, when adding additional email addresses to an existing account on a Discourse site an email token is generated as part of the email verification process. Deleting the additional email address does not invalidate an unused token which can then be used in other contexts, including reseting a password.

### CVE-2021-37633

Discourse is an open source discussion platform. In versions prior to 2.7.8 rendering of d-popover tooltips can be susceptible to XSS attacks. This vulnerability only affects sites which have modified or disabled Discourse's default Content Security Policy. This issue is patched in the latest `stable` 2.7.8 version of Discourse. As a workaround users may ensure that the Content Security Policy is enabled, and has not been modified in a way which would make it more vulnerable to XSS attacks.

### CVE-2021-39161

Discourse is an open source platform for community discussion. In affected versions category names can be used for Cross-site scripting(XSS) attacks. This is mitigated by Discourse's default Content Security Policy and this vulnerability only affects sites which have modified or disabled or changed Discourse's default Content Security Policy have allowed for moderators to modify categories. This issue is patched in the latest stable, beta and tests-passed versions of Discourse. Users are advised to ensure that the Content Security Policy is enabled, and has not been modified in a way which would make it more vulnerable to XSS attacks.

### CVE-2021-37703

Discourse is an open-source platform for community discussion. In Discourse before versions 2.7.8 and 2.8.0.beta5, a user's read state for a topic such as the last read post number and the notification level is exposed.

-----
Scanned versions: nixos-21.05: 6120ac5cd20; nixos-unstable: bc9b956714e.

Cc @talyz

